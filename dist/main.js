!function(e){var t={};function l(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=t,l.d=function(e,t,o){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(l.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(o,n,function(t){return e[t]}.bind(null,n));return o},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/dist",l(l.s=0)}([function(e,t,l){"use strict";const o=l(1),n=l(2),u=l(3),r=l(4),a=l(5);o(),r(),n(),u(),a.start()},function(e,t,l){"use strict";e.exports=()=>{const e=(e,t,l,o)=>{e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),t.style.display="block",l.style.cssText="border: 2px solid #90c406; box-shadow: 2px 4px 10px #222"})}),t.addEventListener("click",e=>{const l=()=>{t.style.display="none"};let o=e.target;o.matches(".popup-close")?(e.preventDefault(),l()):(o=o.closest(".popup-content"),o||l())})};(()=>{const t=document.querySelector(".popup-call"),l=document.querySelectorAll(".call-btn"),o=document.querySelectorAll(".popup-content")[0];document.querySelectorAll(".capture-form")[1];e(l,t,o)})();(()=>{const t=document.querySelectorAll(".discount-btn"),l=document.querySelector(".popup-discount"),o=document.querySelectorAll(".popup-content")[1];document.querySelectorAll(".capture-form")[2];e(t,l,o)})();(()=>{const t=document.querySelectorAll(".gauging-button"),l=document.querySelector(".popup-check"),o=document.querySelectorAll(".popup-content")[2];document.querySelectorAll(".capture-form")[3];e(t,l,o)})();(()=>{const t=document.querySelectorAll(".btnFour"),l=document.querySelector(".popup-discount-calculation"),o=document.querySelectorAll(".popup-content")[4];document.querySelectorAll(".capture-form")[5];e(t,l,o)})();(()=>{const t=document.querySelectorAll(".consultation-btn"),l=document.querySelector(".popup-consultation"),o=document.querySelectorAll(".popup-content")[3];document.querySelectorAll(".capture-form")[4];e(t,l,o)})()}},function(e,t,l){"use strict";e.exports=()=>{const e=document.querySelectorAll(".col-xs-12.col-sm-6.col-md-4"),t=document.querySelector(".add-sentence-btn");t.addEventListener("click",l=>{l.preventDefault(),e.forEach(e=>{(e.matches(".visible-sm-block")||e.matches(".hidden"))&&(e.classList.remove("visible-sm-block","hidden"),t.style.cssText="transform: scale(0)")})})}},function(e,t,l){"use strict";e.exports=()=>{const e=document.querySelectorAll(".acc"),t=document.querySelectorAll('a[data-parent="#accordion-two"]'),l=document.getElementById("collapseOne-two"),o=document.getElementById("collapseTwo-two"),n=document.getElementById("collapseThree-two");l.style.maxHeight=l.scrollHeight+"px",e.forEach(e=>{e.style.cursor="pointer"}),e.forEach(u=>{u.addEventListener("click",u=>{let r=u.target;r!==e[0]&&r!==t[0]||(n.style.maxHeight=null,o.style.maxHeight=null,l.style.maxHeight=l.scrollHeight+"px"),r!==e[1]&&r!==t[1]||(n.style.maxHeight=null,l.style.maxHeight=null,o.style.maxHeight=l.scrollHeight+"px"),r!==e[2]&&r!==t[2]||(l.style.maxHeight=null,o.style.maxHeight=null,n.style.maxHeight=l.scrollHeight+"px")})})}},function(e,t,l){"use strict";e.exports=()=>{const e=document.querySelectorAll('a[data-parent="#accordion"]'),t=document.getElementById("collapseOne"),l=document.getElementById("collapseTwo"),o=document.getElementById("collapseThree");let n=document.getElementById("collapseFour");e.forEach(e=>{e.addEventListener("click",u=>{u.preventDefault(),e.closest("#headingOne")&&("none"===t.style.display?(t.style.display="block",l.style.display="none",o.style.display="none",n.style.display="none"):t.style.display="block"),(e.closest("#headingTwo")||e.matches(".btnOne"))&&("block"===l.style.display?l.style.display="block":(t.style.display="none",l.style.display="block",o.style.display="none",n.style.display="none")),(e.closest("#headingThree")||e.matches(".btnTwo"))&&("block"===o.style.display?o.style.display="block":(t.style.display="none",l.style.display="none",o.style.display="block",n.style.display="none")),(e.closest("#headingFour")||e.matches(".btnThree"))&&("block"===n.style.display||(t.style.display="none",l.style.display="none",o.style.display="none"),n.style.display="block")})})}},function(e,t){const l=new class{constructor(){this.obj={priseOne:1e4,priseTwo:15e3,wellTwo:0,wellOne:0},this.obj2={result:0,distance:0,diameter1:"1.4 метра",diameter2:"1.4 метра",number1:"1 штука",number2:"1 штука"},this.elemDoc={formDiameterOne:document.querySelectorAll(".form-control")[0],formNumberOne:document.querySelectorAll(".form-control")[1],formDiameterTwo:document.querySelectorAll(".form-control")[2],formNumberTwo:document.querySelectorAll(".form-control")[3],inputDistance:document.querySelector(".distance"),calcResult:document.getElementById("calc-result")},this.error=new Set}start(){this.inputCheck(),this.maskPhoneUse(),this.calculator(),this.sendForm()}inputCheck(){document.querySelectorAll("input").forEach(e=>{e.addEventListener("input",()=>{"user_name"===e.name&&(e.value=e.value.replace(/[^а-яё\s]/gi,""),e.setAttribute("maxlength","25")),"user_phone"===e.name&&e.setAttribute("maxlength","18"),"user_quest"===e.name&&(e.value=e.value.replace(/[^a-zа-яё\s\d?!\.,:;]/gi,""),e.setAttribute("maxlength","120")),e.matches(".distance")&&(e.value=e.value.replace(/\D/,""),e.setAttribute("maxlength","10"))})})}maskPhoneUse(){document.querySelectorAll(".phone-user").forEach(e=>{((t="+7 (___) ___-__-__")=>{function l(l){const o=l.keyCode,n=t,u=n.replace(/\D/g,""),r=e.value.replace(/\D/g,"");let a=0,c=n.replace(/[_\d]/g,(function(e){return a<r.length?r.charAt(a++)||u.charAt(a):e}));a=c.indexOf("_"),-1!==a&&(c=c.slice(0,a));let s=n.substr(0,e.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");s=new RegExp("^"+s+"$"),(!s.test(e.value)||e.value.length<5||o>47&&o<58)&&(e.value=c),"blur"===l.type&&e.value.length<5&&(e.value="")}e.addEventListener("input",l),e.addEventListener("focus",l),e.addEventListener("blur",l)})()})}calculator(){const e=document.getElementById("calc-result"),t=document.querySelector(".sumpTwo"),l=document.querySelectorAll(".form-control"),o=document.querySelectorAll(".form-control")[0],n=document.querySelectorAll(".form-control")[1],u=document.querySelectorAll(".form-control")[2],r=document.querySelectorAll(".form-control")[3],a=document.querySelector(".distance"),c=document.querySelector(".btnFour"),s=document.getElementById("collapseFour"),i=document.getElementById("myonoffswitch"),d=document.getElementById("myonoffswitch-two");i.addEventListener("change",()=>{if(i.checked){(()=>{t.style.display="none",e.value=+this.obj.priseOne+1e3,l.forEach(t=>{t.addEventListener("change",()=>{"1.4 метра"===o.value&&("1 штука"===n.value&&(e.value=1e4),"2 штуки"===n.value?e.value=13e3:"3 штуки"===n.value&&(e.value=15e3)),"2 метра"===o.value&&(e.value=12e3,"1 штука"===n.value&&(e.value=12e3),"2 штуки"===n.value?e.value=15e3:"3 штуки"===n.value&&(e.value=17e3)),this.obj.wellOne=e.value,e.value=+e.value+1e3})})})()}else if(!i.checked){(()=>{t.style.display="block",e.value=+this.obj.priseTwo+2e3,l.forEach(l=>{l.addEventListener("change",()=>{"block"===t.style.display&&("1.4 метра"===o.value&&"1.4 метра"===u.value&&("1 штука"===n.value&&("1 штука"===r.value?e.value=15e3:"2 штуки"===r.value?e.value=19500:"3 штуки"===r.value&&(e.value=22500)),"2 штуки"===n.value&&("1 штука"===r.value?e.value=19500:"2 штуки"===r.value?e.value=24e3:"3 штуки"===r.value&&(e.value=27e3)),"3 штуки"===n.value&&("1 штука"===r.value?e.value=22500:"2 штуки"===r.value?e.value=27e3:"3 штуки"===r.value&&(e.value=3e4))),("2 метра"===o.value&&"1.4 метра"===u.value||"1.4 метра"===o.value&&"2 метра"===u.value)&&(this.elemDoc.calcResult.value=18e3,"1 штука"===n.value&&("1 штука"===r.value?e.value=18e3:"2 штуки"===r.value?e.value=22500:"3 штуки"===r.value&&(e.value=25500)),"2 штуки"===n.value&&("1 штука"===r.value?this.elemDoc.calcResult.value=22500:"2 штуки"===r.value?e.value=27e3:"3 штуки"===r.value&&(e.value=3e4)),"3 штуки"===n.value&&("1 штука"===r.value?e.value=25500:"2 штуки"===r.value?e.value=3e4:"3 штуки"===r.value&&(e.value=33e3))),"2 метра"===o.value&&"2 метра"===u.value&&(e.value=21e3,"1 штука"===this.elemDoc.formNumberOne.value&&("1 штука"===r.value?e.value=21e3:"2 штуки"===r.value?e.value=25500:"3 штуки"===r.value&&(e.value=28500)),"2 штуки"===n.value&&("1 штука"===r.value?e.value=25500:"2 штуки"===r.value?e.value=3e4:"3 штуки"===r.value&&(e.value=33e3)),"3 штуки"===n.value&&("1 штука"===r.value?e.value=28500:"2 штуки"===r.value?e.value=33e3:"3 штуки"===r.value&&(e.value=36e3))),this.obj.wellTwo=e.value,e.value=+e.value+2e3)})})})()}});(()=>{d.addEventListener("change",()=>{d.checked?("none"===t.style.display&&(+this.obj.wellOne>0?e.value=+this.obj.wellOne+1e3:0==+this.obj.wellOne&&(e.value=+this.obj.priseOne+1e3)),"block"===t.style.display&&(+this.obj.wellTwo>0?e.value=+this.obj.wellTwo+2e3:0==+this.obj.wellTwo&&(e.value=+this.obj.priseTwo+2e3))):d.checked||("none"===t.style.display&&(+this.obj.wellOne>0?e.value=+this.obj.wellOne:e.value=+this.obj.priseOne),"block"===t.style.display&&(+this.obj.wellTwo>0?e.value=+this.obj.wellTwo:e.value=+this.obj.priseTwo))})})();const m=()=>{this.obj2.diameter2="",this.obj2.number2=""};(()=>{l.forEach(e=>{e.addEventListener("change",()=>{"block"===t.style.display&&(e===o?this.obj2.diameter1=e.value:e===n?this.obj2.number1=e.value:e===u?this.obj2.diameter2=e.value:e===r&&(this.obj2.number2=e.value)),"none"===t.style.display&&(e===o?this.obj2.diameter1=e.value:e===n&&(this.obj2.number1=e.value),m())})})})();(()=>{a.addEventListener("input",()=>{this.obj2.result=+e.value,this.obj2.distance=+a.value})})();c.addEventListener("click",()=>{"none"===t.style.display&&m(),"block"===s.style.display&&(s.style.display="none")})}sendForm(){const e=document.querySelector(".main-form"),t=document.querySelectorAll(".capture-form")[0],l=document.querySelectorAll(".capture-form")[1],o=document.querySelectorAll(".capture-form")[2],n=document.querySelectorAll(".capture-form")[5],u=document.querySelectorAll(".capture-form")[3],r=document.querySelector(".director-form"),a=document.querySelectorAll(".capture-form")[4],c=document.querySelector(".popup-call"),s=document.querySelector(".popup-discount"),i=document.querySelector(".popup-discount-calculation"),d=document.querySelector(".popup-check"),m=document.querySelector(".popup-consultation"),p=document.createElement("div");p.classList.add("statusmessage");const v=document.createElement("div");v.classList.add("statusdiv");const y=(e,t)=>{const l=[];for(const e of t.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&l.push(e);l.forEach(t=>{""===t.value.trim()||"user_phone"===t.name&&!/^[\+]\d{1}\s[\(]\d{3}[\)]\s\d{3}[\-]\d{2}[\-]\d{2}$/.test(t.value)||"user_name"===t.name&&!/^[а-яё\s]+$/i.test(t.value)?(e.preventDefault(),t.style.border="2px solid red",this.error.add(t)):(e.preventDefault(),this.error.delete(t),t.style.border="")})},h=(e,t,l,o)=>{const n=()=>{this.elemDoc.calcResult.value="",this.elemDoc.inputDistance.value="",this.obj={priseOne:1e4,priseTwo:15e3,wellTwo:0,wellOne:0},this.obj2={result:0,distance:0,diameter1:"1.4 метра",diameter2:"1.4 метра",number1:"1 штука",number2:"1 штука"},this.elemDoc.formDiameterOne.value="1.4 метра",this.elemDoc.formNumberOne.value="1 штука",this.elemDoc.formDiameterTwo.value="1.4 метра",this.elemDoc.formNumberTwo.value="1 штука"};this.error.size||(((e,t,l,o)=>{e.preventDefault(),t.appendChild(v),v.appendChild(p),p.textContent="Идёт отправка";let n={},u=new FormData(t);if(l)for(const e of l.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&u.append(e.name,e.value);if(o)for(let e in o)n[e]=o[e];u.forEach((e,t)=>{n[t]=e});(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include",cache:"default"}))(n).then(e=>{if(200!==e.status)throw new Error("status network not 200");p.textContent="Сообщение отправлено"}).catch(e=>{p.style.color="#bd1717",p.textContent="Что-то пошло не так...",console.error(e)}),setTimeout(()=>{t.removeChild(v)},3e3)})(e,t,l,o),((e,t,l)=>{for(const t of e.elements)"button"!==t.tagName.toLowerCase()&&"button"!==t.type&&(t.value="",t.removeAttribute("required"));if(t)for(const e of t.elements)"button"!==e.tagName.toLowerCase()&&"button"!==e.type&&(e.value="",e.removeAttribute("required"));l&&n()})(t,l,o))},b=e=>{this.error.size||setTimeout(()=>{e.style.display="none"},6e3)};e.addEventListener("submit",t=>{t.preventDefault(),y(t,e),h(t,e)}),t.addEventListener("submit",e=>{e.preventDefault(),y(e,t),h(e,t)}),l.addEventListener("submit",e=>{e.preventDefault(),y(e,l),h(e,l),b(c)}),o.addEventListener("submit",e=>{e.preventDefault(),y(e,o),h(e,o),b(s)}),u.addEventListener("submit",e=>{e.preventDefault(),y(e,u),h(e,u),b(d)}),a.addEventListener("submit",e=>{e.preventDefault(),y(e,a),h(e,a,r),b(m)}),n.addEventListener("submit",e=>{e.preventDefault(),y(e,n),h(e,n,null,this.obj2),b(i)})}};e.exports=l}]);